!function(){!function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("utils/utils",["require","exports"],a)}(function(a,b){"use strict";function c(){}function d(a){l=document.querySelector(a)}function e(){return l}function f(){k=document.querySelector(".jsroute-app")}function g(){return k}var h=/\w+:\/\//;b.originRegex=h;var i=/\w+\.\w{1,3}\//;b.hostRegex=i;var j=/\/w+|d+$|\//;b.pathRegex=j;var k,l;b.noop=c,b.setView=d,b.getView=e,b.setRoot=f,b.getRoot=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("events/eventHandler",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";function c(a,b,c){var d;[].slice.call(arguments);c.cancelable=!0,d=new CustomEvent(a,c),b.dispatchEvent(d)}function d(a,b,c){var d=([].slice.call(arguments),c||e.noop);b.addEventListener(a,d,!1)}var e=a("../utils/utils");b.broadcastEvent=c,b.onEvent=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("location/location.model",["require","exports","../router/router.events"],a)}(function(a,b){"use strict";function c(a){var b=window.location,c=new e(a);return{next:c,prev:b}}var d=a("../router/router.events"),e=function(){function a(a){var b=new URL(a);this.hash=b.hash,this.host=b.host,this.hostname=b.hostname,this.href=b.href,this.origin=b.origin,this.pathname=b.pathname,this.protocol=b.protocol,this.search=b.search}return a.prototype.path=function(a){d.startRouteChange(c(a))},a}();b.constructRoute=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router.events",["require","exports","../events/eventHandler","../location/location.model","../utils/utils"],a)}(function(a,b){"use strict";function c(a){f.broadcastEvent("routeChange",h.getRoot(),{detail:a})}function d(){f.onEvent("click",h.getRoot(),function(a){"A"===a.target.nodeName&&(a.preventDefault(),c(g.constructRoute(a.target.href)))})}function e(){d()}var f=a("../events/eventHandler"),g=a("../location/location.model"),h=a("../utils/utils");b.startRouteChange=c,b.register=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("http/http",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";var c=a("../utils/utils"),d={get:function(a,b){function d(){f.readyState===XMLHttpRequest.DONE&&(200===f.status?e(null,f.responseText):e(f.status))}var e=b||c.noop,f=new XMLHttpRequest;f.onreadystatechange=d,f.open("GET",a),f.send()}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.observer",["require","exports","../events/eventHandler","../utils/utils","../http/http"],a)}(function(a,b){"use strict";function c(){i.onEvent("routeChange",j.getRoot(),d)}function d(a){if(!a.defaultPrevented){var b=a.detail.next,c=a.detail.prev;b.host!==c.host&&window.location.assign(b.href),e(b,function(a){return a?(history.pushState({path:a.path},"page",b.pathname),void k["default"].get(a.options.templateUrl,function(a,b){var c=j.getView();c.innerHTML=b})):b.path(m)})}}function e(a,b){for(var c=0,d=l.length;d>c;c++)if(l[c].matchRoute(a.pathname))return b(l[c]);return b()}function f(a){l.push(a)}function g(a){m=window.location.origin+a}function h(){c()}var i=a("../events/eventHandler"),j=a("../utils/utils"),k=a("../http/http"),l=[],m=window.location.origin+"/";b.addRoute=f,b.addFallback=g,b.start=h}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.model",["require","exports"],a)}(function(a,b){"use strict";var c=function(){function a(a,b){var c=this;c.path=a,c.options=b}return a.prototype.matchRoute=function(a){var b=this,c=a.split("/"),d=b.path.split("/");if("/"===a&&a===b.path)return!0;if(d.length!==c.length)return!1;for(var e=1,f=d.length;f>e;e++){var g=c[e]+"|\\:\\w+",h=new RegExp(g);if(!h.test(d[e]))return!1}return!0},a}();b.Route=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router",["require","exports","./router.events","../route/route.observer","../route/route.model","../utils/utils"],a)}(function(a,b){"use strict";var c=a("./router.events"),d=a("../route/route.observer"),e=a("../route/route.model"),f=a("../utils/utils"),g=function(){function a(a){f.setView(a),f.setRoot(),c.register()}return a.prototype.when=function(a,b){var c=new e.Route(a,b);return d.addRoute(c),this},a.prototype.otherwise=function(a){d.addFallback(a),d.start()},a}();b.Router=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("index",["require","exports","./router/router"],a)}(function(a,b){"use strict";var c=a("./router/router");b.Router=c.Router}),require(["index"])}();