!function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("events/eventHandler",["require","exports"],a)}(function(a,b){"use strict";function c(a,b){var c;[].slice.call(arguments);b.cancelable=!0,c=new CustomEvent(a,b),this.dispatchEvent(c)}function d(){Object.prototype.broadcastEvent=c}b.extendRoot=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("utils/utils",["require","exports"],a)}(function(a,b){"use strict";function c(){}function d(a){l=a?document.querySelector(a):document.querySelector(".jsroute-view")}function e(){return l}function f(a){k=a?document.querySelector(a):document.querySelector(".jsroute-app")}function g(){return k}var h=/\w+\:\/\//;b.protocolRegex=h;var i=/\w+\.\w{1,4}\//;b.hostRegex=i;var j=/\/w+|d+$|\//;b.pathRegex=j;var k,l;b.noop=c,b.setView=d,b.getView=e,b.setRoot=f,b.getRoot=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("location/location.model",["require","exports","../utils/utils","../router/router.events"],a)}(function(a,b){"use strict";function c(a){var b=window.location,c=new f(a);return{next:c,prev:b}}var d=a("../utils/utils"),e=a("../router/router.events"),f=function(){function a(a){this.params={},this.hash=a.match(/^#*\?|$/)||"","object"==typeof this.hash&&(this.hash=this.hash[0]),this.host=a.match(d.hostRegex)||window.location.host,"object"==typeof this.host&&(this.host=this.host[0]),this.hostname=this.host.match(/\w+/)[0],this.protocol=a.match(d.protocolRegex)||window.location.protocol,"object"==typeof this.protocol&&(this.protocol=this.protocol[0],this.protocol=this.protocol.replace("//","")),this.origin=this.protocol+"//"+this.host,this.pathname=a.replace(this.protocol+"//","").replace(this.host,""),this.search=a.match(/^\?*$/)||"",this.href=""+this.origin+this.pathname,this.matchingPath=""}return a.prototype.path=function(a){e.startRouteChange(c(a))},a}();b.$Location=f,b.constructRoute=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router.events",["require","exports","../events/eventHandler","../location/location.model","../utils/utils"],a)}(function(a,b){"use strict";function c(){d(h.constructRoute(window.location.origin+window.location.pathname))}function d(a){var b=i.getRoot();b.broadcastEvent("routeChange",{detail:a})}function e(){var a=i.getRoot();a.addEventListener("click",function(a){"A"===a.target.nodeName&&(a.preventDefault(),d(h.constructRoute(a.target.href)))})}function f(){g.extendRoot(),e()}var g=a("../events/eventHandler"),h=a("../location/location.model"),i=a("../utils/utils");b.onRun=c,b.startRouteChange=d,b.register=f}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("http/http",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";var c=a("../utils/utils"),d={get:function(a,b){function d(){f.readyState===XMLHttpRequest.DONE&&(200===f.status?e(null,f.responseText):e(f.status))}var e=b||c.noop,f=new XMLHttpRequest;f.onreadystatechange=d,f.open("GET",a),f.send()}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("history/history",["require","exports","../router/router.events","../location/location.model"],a)}(function(a,b){"use strict";function c(a,b){var c=a.options.templateUrl.split("/"),d=c.pop();j||(g.push(b),i=g.length-1,console.log(b),h.pushState({path:b},d,b)),j=!1}function d(){window.addEventListener("popstate",function(a){a.preventDefault(),j=!0,e.startRouteChange(f.constructRoute(a.state.path))})}var e=a("../router/router.events"),f=a("../location/location.model"),g=[],h=window.history,i=-1,j=!1;b.push=c,b.monitorBrowserNavigation=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.observer",["require","exports","../utils/utils","../http/http","../history/history"],a)}(function(a,b){"use strict";function c(){var a=i.getRoot();a.addEventListener("routeChange",d,!1)}function d(a){if(!a.defaultPrevented){var b=a.detail.next,c=a.detail.prev;b.host!==c.host&&window.location.assign(b.href),e(b,function(a){return a?(k.push(a,b.pathname),b.matchingPath=a.path,void j["default"].get(a.options.templateUrl,function(c,d){var e=i.getView();e.innerHTML=d,a.options.onLoad&&a.options.onLoad(i.getRoot(),b)})):b.path(m)})}}function e(a,b){for(var c=0,d=l.length;d>c;c++)if(l[c].matchRoute(a.pathname))return b(l[c]);return b()}function f(a){l.push(a)}function g(a){m=window.location.origin+a}function h(){c(),k.monitorBrowserNavigation()}var i=a("../utils/utils"),j=a("../http/http"),k=a("../history/history"),l=[],m="/";b.addRoute=f,b.addFallback=g,b.start=h}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.model",["require","exports"],a)}(function(a,b){"use strict";var c=function(){function a(a,b){var c=this;c.path=a,c.options=b}return a.prototype.matchRoute=function(a){var b=this,c=a.split("/"),d=b.path.split("/");if("/"===a&&a===b.path)return!0;if(d.length!==c.length)return!1;for(var e=1,f=d.length;f>e;e++){var g=c[e]+"|\\:\\w+",h=new RegExp(g);if(!h.test(d[e]))return!1}return!0},a}();b.Route=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.provider",["require","exports","./route.model","./route.observer"],a)}(function(a,b){"use strict";var c=a("./route.model"),d=a("./route.observer"),e={when:function(a,b){var e=new c.Route(a,b);return d.addRoute(e),this},otherwise:function(a){return d.addFallback(a),this}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router",["require","exports","./router.events","../route/route.observer","../route/route.provider","../utils/utils"],a)}(function(a,b){"use strict";var c=a("./router.events"),d=a("../route/route.observer"),e=a("../route/route.provider"),f=a("../utils/utils"),g=function(){function a(a,b){f.setRoot(a),f.setView(b)}return a.prototype.config=function(a){a(e["default"]),c.register(),d.start(),c.onRun()},a}();b.Router=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("index",["require","exports","./router/router"],a)}(function(a,b){"use strict";var c=a("./router/router");b.Router=c.Router});