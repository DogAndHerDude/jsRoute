!function(){!function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("utils/utils",["require","exports"],a)}(function(a,b){"use strict";function c(){}function d(a){i=document.querySelector(a)}function e(){return i}var f=/\w+:\/\//;b.originRegex=f;var g=/\w+\.\w{1,3}\//;b.hostRegex=g;var h=/\/w+|d+$|\//;b.pathRegex=h;var i;b.noop=c,b.setRoot=d,b.getRoot=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("events/eventHandler",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";function c(a,b,c){var d;[].slice.call(arguments);c.cancelable=!0,d=new CustomEvent(a,c),b.dispatchEvent(d)}function d(a,b,c){var d=([].slice.call(arguments),c||e.noop);b.addEventListener(a,d,!1)}var e=a("../utils/utils");b.broadcastEvent=c,b.onEvent=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("location/location.model",["require","exports","../router/router.events"],a)}(function(a,b){"use strict";function c(a){var b=window.location,c=new e(a);return{next:c,prev:b}}var d=a("../router/router.events"),e=function(){function a(a){var b=new URL(a);this.hash=b.hash,this.host=b.host,this.hostname=b.hostname,this.href=b.href,this.origin=b.origin,this.pathname=b.pathname,this.protocol=b.protocol,this.search=b.search}return a.prototype.path=function(a){d.startRouteChange(c(a))},a}();b.constructRoute=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router.events",["require","exports","../events/eventHandler","../location/location.model","../utils/utils"],a)}(function(a,b){"use strict";function c(a){f.broadcastEvent("routeChange",h.getRoot(),{detail:a})}function d(){f.onEvent("click",h.getRoot(),function(a){"A"===a.target.nodeName&&(a.preventDefault(),c(g.constructRoute(a.target.href)))})}function e(){d()}var f=a("../events/eventHandler"),g=a("../location/location.model"),h=a("../utils/utils");b.startRouteChange=c,b.register=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.observer",["require","exports","../events/eventHandler","../utils/utils"],a)}(function(a,b){"use strict";function c(a,b){for(var c=0,d=i.length;d>c;c++)if(i[c].matchRoute(a.pathname))return b(i[c]);return b()}function d(a){i.push(a)}function e(a){j=window.location.origin+a}function f(){g.onEvent("routeChange",h.getRoot(),function(a){if(!a.defaultPrevented){var b=a.detail.next,d=a.detail.prev;b.host!==d.host&&window.location.assign(b.href),c(b,function(a){return a?(console.log("pushing"),console.log(b.pathname),void history.pushState({path:a.path},"page",b.pathname)):b.path(j)})}})}var g=a("../events/eventHandler"),h=a("../utils/utils"),i=[],j=window.location.origin+"/";b.addRoute=d,b.addFallback=e,b.start=f}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.model",["require","exports"],a)}(function(a,b){"use strict";var c=function(){function a(a,b){var c=this;c.path=a,c.options=b}return a.prototype.matchRoute=function(a){var b=this,c=a.split("/"),d=b.path.split("/");if("/"===a&&a===b.path)return!0;if(d.length!==c.length)return!1;for(var e=1,f=d.length;f>e;e++){var g=c[e]+"|\\:\\w+",h=new RegExp(g);if(!h.test(d[e]))return!1}return!0},a}();b.Route=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router",["require","exports","./router.events","../route/route.observer","../route/route.model","../utils/utils"],a)}(function(a,b){"use strict";var c=a("./router.events"),d=a("../route/route.observer"),e=a("../route/route.model"),f=a("../utils/utils"),g=function(){function a(a){f.setRoot(a),c.register(),d.start()}return a.prototype.when=function(a,b){var c=new e.Route(a,b);return d.addRoute(c),this},a.prototype.otherwise=function(a){return d.addFallback(a),this},a}();b.Router=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("index",["require","exports","./router/router"],a)}(function(a,b){"use strict";var c=a("./router/router");b.Router=c.Router}),require(["index"])}();