!function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("events/eventHandler",["require","exports"],a)}(function(a,b){"use strict";function c(a,b,c){var d;c.cancelable=!0,d=new CustomEvent(a,c),b.dispatchEvent(d)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("utils/utils",["require","exports"],a)}(function(a,b){"use strict";function c(){}function d(a){a=a||".jsroute-view",l=document.querySelector(a)}function e(){return l}function f(a){a=a||".jsroute-app",k=document.querySelector(a)}function g(){return k}var h=/\w+\:\/\//;b.protocolRegex=h;var i=/\w+\.\w{1,4}\//;b.hostRegex=i;var j=/\/w+|d+$|\//;b.pathRegex=j;var k,l;b.noop=c,b.setView=d,b.getView=e,b.setRoot=f,b.getRoot=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("location/location.model",["require","exports","../utils/utils","../router/router.events"],a)}(function(a,b){"use strict";var c=a("../utils/utils"),d=a("../router/router.events"),e=function(){function a(a){this.params={};var b=a.match(/^#*\?|$/),d=a.match(c.hostRegex),e=a.match(c.protocolRegex),f=a.match(/^\?*$/);this.hash=b?b[0]:"",this.host=d?d[0]:window.location.host,this.hostname=this.host.match(/\w+/)[0],this.protocol=e?e[0].replace("//",""):window.location.protocol,this.origin=this.protocol+"//"+this.host,this.pathname=a.replace(this.protocol+"//","").replace(this.host,""),this.search=f?f[0]:"",this.href=""+this.origin+this.pathname,this.matchingPath=""}return a.prototype.path=function(a){d.startRouteChange(a)},a}();b.LocationModel=e,Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("location/location.factory",["require","exports","./location.model"],a)}(function(a,b){"use strict";function c(a){var b={path:g?g.pathname:null,match:g?g.matchingPath:null},c={path:a,match:null};return{prev:b,next:c}}function d(a){var b=new h["default"](a);return g=b,b}function e(){return g}function f(a){g=a}var g,h=a("./location.model");b.createRouteList=c,b.locationFactory=d,b.getCurrentLocation=e,b.setCurrentLocation=f}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router.events",["require","exports","../events/eventHandler","../location/location.factory","../utils/utils"],a)}(function(a,b){"use strict";function c(){var a=k.getView();a.children.length||d(window.location.pathname)}function d(a){var b=k.getRoot(),c=j.createRouteList(a);i["default"]("routeChangeStart",b,{detail:c})}function e(){var a=k.getRoot();a.addEventListener("click",function(a){"A"===a.target.nodeName&&(a.preventDefault(),d(a.target.href))})}function f(a){var b=k.getRoot();i["default"]("routeChangeSuccess",b,{detail:a})}function g(a){var b=k.getRoot();i["default"]("routeChangeError",b,{detail:a})}function h(){e()}var i=a("../events/eventHandler"),j=a("../location/location.factory"),k=a("../utils/utils");b.onRun=c,b.startRouteChange=d,b.completeRouteChange=f,b.failRouteChange=g,b.register=h}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("http/http",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";var c=a("../utils/utils"),d={get:function(a,b){function d(){f.readyState===XMLHttpRequest.DONE&&(200===f.status?e(null,f.responseText):e(f.status))}var e=b||c.noop,f=new XMLHttpRequest;f.onreadystatechange=d,f.open("GET",a),f.send()}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("history/history",["require","exports","../router/router.events"],a)}(function(a,b){"use strict";function c(a,b){var c=a.options.templateUrl.split("/"),d=c.pop();g||f.pushState({path:b},d,b),g=!1}function d(){window.addEventListener("popstate",function(a){a.preventDefault(),g=!0,e.startRouteChange(a.state.path)})}var e=a("../router/router.events"),f=window.history,g=!1;b.push=c,b.monitorBrowserNavigation=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.observer",["require","exports","../router/router.events","../utils/utils","../http/http","../history/history","../location/location.factory"],a)}(function(a,b){"use strict";function c(){var a=k.getRoot();a.addEventListener("routeChangeStart",e,!1)}function d(a,b){var c=a.getCachedTemplate(),d=k.getView();return c?(d.innerHTML=c,b(null,!0)):void l["default"].get(a.options.templateUrl,function(e,f){return e?b(e):f?(d.innerHTML=f,a.options.cache&&!c&&a.setCachedTemplate(f),b(null,!0)):b()})}function e(a){if(!a.defaultPrevented){var b=a.detail,c=n.getCurrentLocation(),e=n.locationFactory(b.next.path);return c&&c.host!==e.host?window.location.assign(e.href):void f(e,function(a){return a?void d(a,function(c,d){return c?console.error(c):d?(e.matchingPath=b.next.match=a.path,e.params=a.getParams(e.pathname),m.push(a,e.pathname),n.setCurrentLocation(e),a.options.onLoad&&a.options.onLoad(k.getRoot(),e),void j.completeRouteChange(b)):(b.err="Failed to retrieve template from templateUrl",j.failRouteChange(b),console.error(b.err))}):e.path(p)})}}function f(a,b){for(var c=0,d=o.length;d>c;c++)if(o[c].matchRoute(a.pathname))return b(o[c]);return b()}function g(a){a.options.cache=!!a.options.cache,o.push(a)}function h(a){p=a}function i(){c(),m.monitorBrowserNavigation()}var j=a("../router/router.events"),k=a("../utils/utils"),l=a("../http/http"),m=a("../history/history"),n=a("../location/location.factory"),o=[],p="/";b.addRoute=g,b.addFallback=h,b.start=i}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.model",["require","exports"],a)}(function(a,b){"use strict";var c=function(){function a(a){this.templateUrl=null,this.template=null,this.cache=!1,this.onLoad=null,this.templateUrl=a.templateUrl?a.templateUrl:this.templateUrl,this.template=a.template?a.template:this.template,this.cache=a.cache?a.cache:this.cache,this.onLoad=a.onLoad?a.onLoad:this.onLoad}return a}(),d=function(){function a(a,b){this.cachedTemplate=null,this.path=a,this.options=new c(b)}return a.prototype.matchRoute=function(a){var b=a.split("/"),c=this.path.split("/");if("/"===a&&a===this.path)return!0;if(c.length!==b.length)return!1;for(var d=1,e=c.length;e>d;d++){var f=b[d]+"|\\:\\w+",g=new RegExp(f);if(!g.test(c[d]))return!1}return!0},a.prototype.getParams=function(a){for(var b=a.split("/"),c=this.path.split("/"),d={},e=1,f=c.length;f>e;e++){var g=/:\w+/;if(g.test(c[e])){var h=c[e].replace(":","");d[h]=b[e]}}return d},a.prototype.getCachedTemplate=function(){return this.cachedTemplate},a.prototype.setCachedTemplate=function(a){this.cachedTemplate=a},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("route/route.provider",["require","exports","./route.model","./route.observer"],a)}(function(a,b){"use strict";var c=a("./route.model"),d=a("./route.observer"),e={when:function(a,b){var e=new c["default"](a,b);return d.addRoute(e),this},otherwise:function(a){return d.addFallback(a),this}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("router/router",["require","exports","./router.events","../route/route.observer","../route/route.provider","../utils/utils"],a)}(function(a,b){"use strict";var c=a("./router.events"),d=a("../route/route.observer"),e=a("../route/route.provider"),f=a("../utils/utils"),g=function(){function a(a,b){f.setRoot(a),f.setView(b)}return a.prototype.config=function(a){a(e["default"]),c.register(),d.start(),c.onRun()},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("JSRoute",["require","exports","./router/router"],a)}(function(a,b){"use strict";var c=a("./router/router");Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c["default"]});