!function(a){var b,c,d;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=s.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if(e=p[o.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},b=c=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},b._defined=q,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),d("../node_modules/almond/almond",function(){}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("utils/utils",["require","exports"],a)}(function(a,b){"use strict";function c(){}function d(a){l=document.querySelector(a)}function e(){return l}function f(){k=document.querySelector(".jsroute-app")}function g(){return k}var h=/\w+:\/\//;b.originRegex=h;var i=/\w+\.\w{1,3}\//;b.hostRegex=i;var j=/\/w+|d+$|\//;b.pathRegex=j;var k,l;b.noop=c,b.setView=d,b.getView=e,b.setRoot=f,b.getRoot=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("events/eventHandler",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";function c(a,b){var c;[].slice.call(arguments);b.cancelable=!0,c=new CustomEvent(a,b),this.dispatchEvent(c)}function d(a,b,c){var d=([].slice.call(arguments),c||f.noop);b.addEventListener(a,d,!1)}function e(){Object.prototype.broadcastEvent=c}var f=a("../utils/utils");b.onEvent=d,b.extendRoot=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("location/location.model",["require","exports","../router/router.events"],a)}(function(a,b){"use strict";function c(a){var b=window.location,c=new e(a);return{next:c,prev:b}}var d=a("../router/router.events"),e=function(){function a(a){var b=new URL(a);this.hash=b.hash,this.host=b.host,this.hostname=b.hostname,this.href=b.href,this.origin=b.origin,this.pathname=b.pathname,this.protocol=b.protocol,this.search=b.search}return a.prototype.path=function(a){d.startRouteChange(c(a))},a}();b.constructRoute=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("router/router.events",["require","exports","../events/eventHandler","../location/location.model","../utils/utils"],a)}(function(a,b){"use strict";function c(){d(h.constructRoute(window.location.origin+window.location.pathname))}function d(a){var b=i.getRoot();b.broadcastEvent("routeChange",{detail:a})}function e(){var a=i.getRoot();a.addEventListener("click",function(a){"A"===a.target.nodeName&&(a.preventDefault(),d(h.constructRoute(a.target.href)))})}function f(){g.extendRoot(),e()}var g=a("../events/eventHandler"),h=a("../location/location.model"),i=a("../utils/utils");b.onRun=c,b.startRouteChange=d,b.register=f}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("http/http",["require","exports","../utils/utils"],a)}(function(a,b){"use strict";var c=a("../utils/utils"),d={get:function(a,b){function d(){f.readyState===XMLHttpRequest.DONE&&(200===f.status?e(null,f.responseText):e(f.status))}var e=b||c.noop,f=new XMLHttpRequest;f.onreadystatechange=d,f.open("GET",a),f.send()}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("route/route.observer",["require","exports","../utils/utils","../http/http"],a)}(function(a,b){"use strict";function c(){var a=i.getRoot();a.addEventListener("routeChange",d,!1)}function d(a){if(!a.defaultPrevented){var b=a.detail.next,c=a.detail.prev;b.host!==c.host&&window.location.assign(b.href),e(b,function(a){return a?(history.pushState({path:a.path},"page",b.pathname),b.matchingPath=a.path,void j["default"].get(a.options.templateUrl,function(c,d){var e=i.getView();e.innerHTML=d,a.options.onLoad&&a.options.onLoad(e,i.getRoot(),b)})):b.path(l)})}}function e(a,b){for(var c=0,d=k.length;d>c;c++)if(k[c].matchRoute(a.pathname))return b(k[c]);return b()}function f(a){k.push(a)}function g(a){l=window.location.origin+a}function h(){c()}var i=a("../utils/utils"),j=a("../http/http"),k=[],l=window.location.origin+"/";b.addRoute=f,b.addFallback=g,b.start=h}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("route/route.model",["require","exports"],a)}(function(a,b){"use strict";var c=function(){function a(a,b){var c=this;c.path=a,c.options=b}return a.prototype.matchRoute=function(a){var b=this,c=a.split("/"),d=b.path.split("/");if("/"===a&&a===b.path)return!0;if(d.length!==c.length)return!1;for(var e=1,f=d.length;f>e;e++){var g=c[e]+"|\\:\\w+",h=new RegExp(g);if(!h.test(d[e]))return!1}return!0},a}();b.Route=c}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("router/router",["require","exports","./router.events","../route/route.observer","../route/route.model","../utils/utils"],a)}(function(a,b){"use strict";var c=a("./router.events"),d=a("../route/route.observer"),e=a("../route/route.model"),f=a("../utils/utils"),g=function(){function a(a){f.setView(a),f.setRoot(),c.register()}return a.prototype.when=function(a,b){var c=new e.Route(a,b);return d.addRoute(c),this},a.prototype.otherwise=function(a){d.addFallback(a),d.start(),c.onRun()},a}();b.Router=g}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(c,exports);void 0!==b&&(module.exports=b)}else"function"==typeof d&&d.amd&&d("index",["require","exports","./router/router"],a)}(function(a,b){"use strict";var c=a("./router/router");b.Router=c.Router}),a.JSRoute=a.JSRoute||c("index").Router}(window);